<!DOCTYPE html>
<html lang="cs-CZ">
  <!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>COSMAC RCA 1802</title>

  

  <meta name="description" content="Tentokrát si dáme zase jednu exkurzi do historie – za výtvorem společnosti RCA, který rozhodně není zapomenutý. RCA, neboli Radio Corporation of America, byla americká společnost, která vyráběla elektroniku od roku 1919 až do roku 1985, kdy ji převzala zpět společnost General Electric (která ji kdysi na začátku 20. století...">

  

  

  <link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  <meta property="og:title" content="COSMAC RCA 1802">
  <meta property="og:description" content="Tentokrát si dáme zase jednu exkurzi do historie – za výtvorem společnosti RCA, který rozhodně není zapomenutý. RCA, neboli Radio Corporation of America, byla americká společnost, která vyráběla elektroniku od roku 1919 až do roku 1985, kdy ji převzala zpět společnost General Electric (která ji kdysi na začátku 20. století...">

  
  <meta property="og:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="">
  <meta property="og:article:published_time" content="2015-04-18T19:18:31+02:00">
  <meta property="og:url" content="http://localhost:4000/cosmac-rca-1802/">
  <link rel="canonical" href="http://localhost:4000/cosmac-rca-1802/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@retrocip">
  <meta name="twitter:creator" content="@retrocip">

  <meta property="twitter:title" content="COSMAC RCA 1802">
  <meta property="twitter:description" content="Tentokrát si dáme zase jednu exkurzi do historie – za výtvorem společnosti RCA, který rozhodně není zapomenutý. RCA, neboli Radio Corporation of America, byla americká společnost, která vyráběla elektroniku od roku 1919 až do roku 1985, kdy ji převzala zpět společnost General Electric (která ji kdysi na začátku 20. století...">

  
  <meta name="twitter:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  


  

  

</head>


  <body>
    
 <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="https://beautifuljekyll.com">Beautiful Jekyll</a>
                  <a class="dropdown-item" href="https://www.markdowntutorial.com/">Learn markdown</a>
            </div>
          </li>
        
          <li class="nav-item">
            <a class="nav-link" href="https://deanattali.com">Author's home</a>
          </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="http://localhost:4000/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/wp-content/uploads/sites/6/favicon/retrocip.png" />
        </a>
      </div>
    </div>
  

</nav>
 <!-- TODO this file has become a mess, refactor it -->
<!-- prettier-ignore -->

  



<header class="header-section ">
  
  <div class="intro-header no-img">
    <div class="container-md">
      <div class="row">
        <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
          <div class="post-heading">
            <h1>
              COSMAC RCA 1802
            </h1>
             
            <span class="post-meta"
              >Vydáno 18. 4. 2015</span
            >
              
          </div>
        </div>
      </div>
    </div>
  </div>
</header>




<div
  class=" container-md "
>
  <div class="row">
    <div
      class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 "
    >
       

      <article role="main" class="blog-post"><p>Tentokrát si dáme zase jednu exkurzi do historie – za výtvorem společnosti RCA, který rozhodně není zapomenutý.</p>

<!--more-->

<p>RCA, neboli Radio Corporation of America, byla americká společnost, která vyráběla elektroniku od roku 1919 až do roku 1985, kdy ji převzala zpět společnost General Electric (která ji kdysi na začátku 20. století spoluzakládala). Její historie je velmi zajímavá, dovolte tedy drobnou odbočku.</p>

<p>RCA koupila například v roce 1929 společnost Victor Talking Machine Company, výrobce fonografů a, mimo jiné, většinového vlastníka společnosti Victor Company of Japan (JVC). S touto společností přešla na RCA práva k užívání loga s Nipperem.</p>

<p>Že nevíte, kdo byl <a href="http://en.wikipedia.org/wiki/Nipper">Nipper</a>? To je možné, ale tenhle obrázek určitě znáte.<figure id="attachment\_541" aria-labelledby="figcaption\_attachment_541" class="wp-caption aligncenter" style="width: 649px"></figure></p>

<p><img loading="lazy" class="size-full wp-image-541" src="http://retrocip.uelectronics.info/wp-content/uploads/sites/6/2015/04/OriginalNipper.jpg" alt="" width="639" height="430" /> &lt;figcaption id="figcaption\_attachment\_541" class="wp-caption-text"&gt;Nipper sleduje fonograf, Francis Barraud, 1895&lt;/figcaption&gt;&lt;/figure&gt;</p>

<p>Nipper je samozřejmě ten pes. Victor Talking Machine použila podobný obrázek, jen místo fonografu dali gramofon, ve své reklamě i se sloganem „His Master’s Voice“. Ale zpět k RCA.</p>

<p>Tato firma stojí i za dalším ikonickým obrázkem:</p>

<p><img loading="lazy" class="aligncenter size-full wp-image-542" src="http://retrocip.uelectronics.info/wp-content/uploads/sites/6/2015/04/640px-RCA_Indian_Head_test_pattern.jpg" alt="" width="640" height="480" /></p>

<p>Ano, první „monoskop“ (televizní testovací obrazec). V roce 1939 totiž RCA na Světové výstavě představila první elektronický televizní systém a začala prodávat první televizory.</p>

<p>V laboratořích RCA vznikla spousta dalších významných inovací – barevná televize, technologie CMOS, LCD, videorekordér, … RCA později (do roku 1971) vyráběla například i počítače (Spectra 70). Svou výrobu domácích spotřebičů prodala Whirlpoolu, znát můžeme nahrávací společnost RCA/Ariola, později RCA Records. Zkrátka, není toho málo.</p>

<h2 id="rca-cdp1802">RCA CDP1802</h2>

<p>V roce 1976 uvedla RCA na trh mikroprocesor CDP1802. Byl vyrobený technologií CMOS, vyvinutou právě v RCA pod názvem COS-MOS (COmplementary Silicon / Metal-Oxid-Semiconductor). 1802 byl známý taky pod názvem COSMAC. Prý „Complementary Symmetry Monolithic Array Computer“, ale spíš bych si tipl, že se tam odráží ta technologie COS-MOS.</p>

<p>V letech 1970-1971 vyvinul Joseph Weisbecker vlastní architekturu mikroprocesoru. RCA vytvořila nejprve (v roce 1975) dva čipy 1801R a 1801U, a později je sloučila do jednoho obvodu 1802.</p>

<p>CDP1802 má několik vlastností, které jej výrazně odlišují od hlavních konkurentů té doby (6800, 6502, 8080, Z80). Například jádro CDP1802 je statické – znamená to tedy, že je možné zpomalit hodiny na minimum, dokonce je i zastavit, a procesor neztratí data z vnitřních registrů.</p>

<p>CDP1802 adresuje, podobně jako ostatní mikroprocesory té doby, 64 kB paměti. Uvnitř obsahuje šestnáct šestnáctibitových registrů (R0-R15), které jsou, až na dvě výjimky, plně ortogonální. Akumulátor, v němž se provádějí aritmetické operace, je osmibitový a je označený D. Procesor obsahuje i dva čtyřbitové registry P a X. Registr X udává, který z registrů R0-R15 funguje jako indexový registr pro přístup k datům, registr P pak říká, který z registrů R0-R15 funguje jako programový čítač. Ano, CDP1802 nemá dedikovaný registr PC (Program Counter), místo něj používá vždy jeden z registrů R0-R15.</p>

<p>Je to celé trošku divoké, a zvyknout si na to dá člověku, zvyklému na architekturu 8080/6800 a odvozené, trochu práce. Tak například procesor nemá zásobník. Na co taky, když nemá instrukci CALL. Zato má hned dvě instrukce RET – jedna při návratu povolí přerušení, druhá ho zakáže. Jak se volá podprogram? No, do nějakého registru si dáte jeho adresu, a pak řeknete: Ty teď budeš program counter! A na konci řeknete: Program counter je zase ten původní…</p>

<p>Samozřejmě, existují instrukce, které uloží „něco jako stav“ – tedy registry P a X – na „něco jako zásobník“, tedy do paměti, adresované buď registrem RX (tedy registrem, jehož číslo je v registru X), nebo registrem R2. Tohle je právě ta výjimka z ortogonality, spolu s tím, že registr R0 je používán pro přenos DMA, registr R1 je program counter při přerušení a jediná instrukce, kterou by šlo považovat za jakous-takous instrukci pracujíc se zásobníkem, používá k adresování R2.</p>

<p>Procesor CDP1802 má i jeden datový výstup (Q) a čtyři datové vstupy (EF1-EF4). Instrukční sada obsahuje instrukce Set Q (SEQ) a Reset Q (REQ). Pro testování vstupů pak jsou podmíněné skoky B1, B2, B3, B4, BN1, BN2, BN3, BN4 – skáče se, pokud je vstup = 1, resp. pokud je roven 0 (u varianty BN).</p>

<p>Skoky jsou osmibitové, ale nikoli relativní. Pouze se vezme osmibitová adresa a vloží se do nižšího byte registru PC (= registru R, jehož číslo je v registru P… Zvykejte si!) Hranici 256 byte normálním (krátkým) skokem nepřeskočíte. Naštěstí existují i instrukce dlouhého skoku s absolutní adresou.</p>

<p>Ke skokům připočtěme i instrukce „přeskoků“, včetně podmíněných – totiž instrukce, které umožňují přeskočit následující jeden nebo dva byty.</p>

<p>Když píšu „podmíněné“, tak si nepředstavujte nějakou podmínkovou bonanzu. Kdepak. Podmínky jsou buď podle datových vstupů EF, podle stavu výstupu Q, nebo podle toho, jestli je registr D roven nule. Jediný podmínkový příznak je DF, a ten odpovídá příznaku přenosu (CY). Testovat můžete stav příznaku povoleného přerušení (IE), a to instrukcí LSIE. Pokud je IE=1, přeskočí se následující dva bajty.</p>

<p>Existují instrukce pro přesun dat mezi pamětí a registrem D, adresované buď konkrétním registrem, nebo registrem, jehož číslo je v X. Jsou i varianty s postinkrementací a postdekrementací. Na druhou stranu nejsou instrukce pro přímou práci s registry R – pokud chcete do registru uložit nějakou hodnotu, musíte ji ukládat nadvakrát přes registr D. Instrukce PLO, PHI (Put Low / High) a GLO, GHI (Get Low / High) přenesou data mezi registrem D a dolní, resp. horní polovinou vybraného registru.</p>

<p>Procesor má navíc možnost přímo adresovat sedm vstupně / výstupních portů (instrukcemi INP 1 – INP 7 a OUT 1 – OUT 7), kdy probíhá přenos z / do paměti na adrese, která je v RX. Kromě toho oplývá i zabudovaným řadičem DMA: po spuštění přenáší byty z / do paměti, adresované registrem R0.<figure id="attachment\_544" aria-labelledby="figcaption\_attachment_544" class="wp-caption aligncenter" style="width: 330px"></figure></p>

<p><img loading="lazy" class="wp-image-544 size-full" src="http://retrocip.uelectronics.info/wp-content/uploads/sites/6/2015/04/320px-Ic-photo-RCA-CDP1802D-1802-CPU.jpg" alt="320px-Ic-photo-RCA--CDP1802D--(1802-CPU)" width="320" height="123" /> &lt;figcaption id="figcaption\_attachment\_544" class="wp-caption-text"&gt;CDP1802D (Autor: ZyMOS, Wikimedia)&lt;/figcaption&gt;&lt;/figure&gt;</p>

<p> </p>

<h2 id="použití">Použití</h2>

<p>Říkáte si „Kdo by něco takového, proboha, použil?“ Inu, tehdy ještě nebyla v lidech zafixovaná architektura 8080/6800, tak měli možná otevřenější přístup. Snad. Doufám. Po výše uvedeném popisu vás jistě nepřekvapí, že první vyšší programovací jazyk pro tento procesor byl FORTH. Na druhou stranu má CDP1802 některé výhody, především pak možnost zastavit hodiny procesoru a snížit tak jeho odběr na naprosté minimum. Jeho instrukční sada má, i přes všechny podivnosti, několik zajímavých rysů: Naprostá většina instrukcí trvá dva strojové cykly (každý 8 taktů hodin), až na vzácné výjimky, které trvají 3 cykly. Počítání času je tedy velmi jednoduché. No a navíc instrukční soubor obsahuje instrukci SEX.</p>

<p>Minimální odběr oceníte, když děláte třeba, hmmm… <a href="http://retrocip.uelectronics.info/forth-na-komete/" title="FORTH na kometě">vesmírnou sondu</a>. V mnoha sondách právě tento procesor je. Ostatně, od Intersilu si jej můžete objednat ve variantě se <a href="http://www.intersil.com/en/products/space-and-harsh-environment/harsh-environment/microprocessors-and-peripherals/CDP1802A.html">zvýšenou odolností proti radiaci</a>. Jen se připravte na to, že to není nejlevnější špás…</p>

<p>CDP1802 byl použit v legendárních počítačích COSMAC ELF a COSMAC VIP, v herní konzoli RCA System II, a využívaly ho i jugoslávské počítače Pecom 32 a Pecom 64.</p>

<p>RCA vyráběla vylepšenou variantu CDP1804 – tento procesor uměl víc instrukcí (třeba i CALL), obsahoval i časovač a měl integrovanou RAM a ROM. Verze CDP1805 byla bez ROM, verze CDP1806 i bez RAM.</p>

<p><em>Jo a do <a href="http://www.asm80.com">ASM80.com</a> jsem přidal podporu pro tento procesor. Můžete teď překládat zdrojové kódy a můžete je i debuggovat. Přípona souboru je .a18</em></p>
</article>

      
      <div class="blog-tags">
        <span>Tagy:</span>
        
        <a href="/tags#CDP1802">CDP1802</a>
        
        <a href="/tags#COSMAC">COSMAC</a>
        
        <a href="/tags#RCA">RCA</a>
        
      </div>
         <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=COSMAC+RCA+1802&url=http%3A%2F%2Flocalhost%3A4000%2Fcosmac-rca-1802%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fcosmac-rca-1802%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fcosmac-rca-1802%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

</section>


 

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a
            class="page-link"
            href="/nic-zasadniho/"
            data-toggle="tooltip"
            data-placement="top"
            title="Nic zásadního&#8230;"
            >&larr; Předchozí</a
          >
        </li>
         
        <li class="page-item next">
          <a
            class="page-link"
            href="/thomson-mo5/"
            data-toggle="tooltip"
            data-placement="top"
            title="Thomson MO5"
            >Následující &rarr;</a
          >
        </li>
        
      </ul>
      
  
  
  

  




    </div>
  </div>
</div>
 <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="mailto:retrocip@maly.cz" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.facebook.com/martin.maly" title="Facebook">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Facebook</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/maly" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/retrocip" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
      2020

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="http://localhost:4000/">Retročip.cz</a>
        </span>
      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>
 
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  








  </body>
</html>
