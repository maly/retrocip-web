<!DOCTYPE html>
<html lang="cs-CZ">
  <!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Nový starý počítač</title>

  

  <meta name="description" content="Mám tu pár námětů na přemýšlení… zase… Postavit si nový starý počítač, rozuměj z nových součástek počítač v duchu dob předchozích, je oblíbená zábava nás, retronadšenců. Přístupů je několik: Postavit repliku starého stroje s identickými součástkami a původním schématem Postavit funkční repliku starého stroje tak, že některé součástky (typicky ty...">

  

  

  <link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  <meta property="og:title" content="Nový starý počítač">
  <meta property="og:description" content="Mám tu pár námětů na přemýšlení… zase… Postavit si nový starý počítač, rozuměj z nových součástek počítač v duchu dob předchozích, je oblíbená zábava nás, retronadšenců. Přístupů je několik: Postavit repliku starého stroje s identickými součástkami a původním schématem Postavit funkční repliku starého stroje tak, že některé součástky (typicky ty...">

  
  <meta property="og:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="">
  <meta property="og:article:published_time" content="2016-02-01T16:15:26+01:00">
  <meta property="og:url" content="http://localhost:4000/novy-stary-pocitac/">
  <link rel="canonical" href="http://localhost:4000/novy-stary-pocitac/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@retrocip">
  <meta name="twitter:creator" content="@retrocip">

  <meta property="twitter:title" content="Nový starý počítač">
  <meta property="twitter:description" content="Mám tu pár námětů na přemýšlení… zase… Postavit si nový starý počítač, rozuměj z nových součástek počítač v duchu dob předchozích, je oblíbená zábava nás, retronadšenců. Přístupů je několik: Postavit repliku starého stroje s identickými součástkami a původním schématem Postavit funkční repliku starého stroje tak, že některé součástky (typicky ty...">

  
  <meta name="twitter:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  


  

  

</head>


  <body>
    
 <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="https://beautifuljekyll.com">Beautiful Jekyll</a>
                  <a class="dropdown-item" href="https://www.markdowntutorial.com/">Learn markdown</a>
            </div>
          </li>
        
          <li class="nav-item">
            <a class="nav-link" href="https://deanattali.com">Author's home</a>
          </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="http://localhost:4000/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/wp-content/uploads/sites/6/favicon/retrocip.png" />
        </a>
      </div>
    </div>
  

</nav>
 <!-- TODO this file has become a mess, refactor it -->
<!-- prettier-ignore -->

  



<header class="header-section ">
  
  <div class="intro-header no-img">
    <div class="container-md">
      <div class="row">
        <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
          <div class="post-heading">
            <h1>
              Nový starý počítač
            </h1>
             
            <span class="post-meta"
              >Vydáno 1. 2. 2016</span
            >
              
          </div>
        </div>
      </div>
    </div>
  </div>
</header>




<div
  class=" container-md "
>
  <div class="row">
    <div
      class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 "
    >
       

      <article role="main" class="blog-post"><p>Mám tu pár námětů na přemýšlení… zase…</p>

<!--more-->

<p>Postavit si nový starý počítač, rozuměj z nových součástek počítač v duchu dob předchozích, je oblíbená zábava nás, retronadšenců. Přístupů je několik:</p>

<ol>
  <li>Postavit repliku starého stroje s identickými součástkami a původním schématem</li>
  <li>Postavit funkční repliku starého stroje tak, že některé součástky (typicky ty s nízkou integrací nebo paměti) nahradíme novějšími ekvivalenty (místo osmi čipů paměti jen jeden, místo glue logiky CPLD…)</li>
  <li>Postavit emulovanou repliku starého stroje (ZX Spectrum ve FPGA třeba)</li>
  <li>Postavit počítač vlastní konstrukce se součástkovou základnou z roku, řekněme 1984.</li>
  <li>Počítač vlastní konstrukce se starým osmibitovým procesorem, ale s novějšími periferiemi</li>
  <li>Počítač vlastní konstrukce, který sice využívá starý procesor a „ducha“ té doby, ale je třeba kompletně celý ve FPGA</li>
  <li>Počítač vlastní konstrukce s moderními součástkami a procesory, ale v duchu dob minulých (jednodeskáč s LED displejem a hexadecimální klávesničkou… a uvnitř Pentium třeba)</li>
</ol>

<p>Plus cokoli mezi tím, že.</p>

<p>Já si teď hraju, po tom FPMI, s myšlenkou něčeho podobného. Některé věci jsou jasné:</p>

<ul>
  <li>Chci tam mít VGA výstup, protože monitorů je všude spousta a jsou levné, snáze sehnatelné než televize, jednoduše zapojitelné, a navíc <a href="http://vhdl.cz/vga-generujeme-obraz/">generování signálu pro VGA</a> není problém zařídit pomocí FPGA.</li>
  <li>Chci tam mít SD kartu. Asi není potřeba o ničem debatovat, jednodušší alternativa není.</li>
  <li>Sériový port potěší. A když už bude, tak bude rovnou jako USB, protože prostě proto.</li>
  <li>Paměť bude SRAM na 3.3V, třeba někde okolo 512kB, a k ní bude jednoduchá MMU, jako když se rozšiřovalo Spectrum</li>
</ul>

<p>[sc:ebay item=“AS6C4008 PCN“] [sc:ebay item=“EP2C5T144 board“]</p>

<p>Jinde se ještě rozhoduju.</p>

<p>Třeba <strong>klávesnice</strong>. U FPMI jsem použil tenhle retrokousek: [sc:ebay item=“1pc White Keyboard 5x 25 keys“]</p>

<p>ale tentokrát budu chtít QWERTY. Mám dvě možnosti. Zaprvé – použiju jakoukoli klávesnici s PS/2. Je jich na trhu jako smetí, jejich připojení je jednoduché a máme ji doma všichni.</p>

<p>Zadruhé: udělám si vlastní. Líbila by se mi taková, jako byla u JPR-1 (<a href="http://www.oldcomputers.wz.cz/pocitace/JPR-1/ANK-1%20pripojena%20k%20SAPI.JPG">ANK-1</a>, pro pamětníky) – membránová. Je jednoduchá na výrobu, docela levná a vypadá správně děsivě. Když totiž hledám nějaká tlačítka s hmatníkem a vyšším zdvihem, z jakých bych mohl klávesnici sestavit, tak jsou výsledky žalostné.</p>

<p>Další otázka: <strong>Procesor</strong>. Líbil by se mi <a href="http://retrocip.uelectronics.info/posledni-krasavec-osmibitove-ery/">6809</a>/<a href="http://retrocip.uelectronics.info/6309-vse-je-neoficialni/">6309</a>. Oba mám, to není problém. Problém je, že ho budu připojovat k FPGA, které používá 3.3V. 6809/6309 na tomhle napětí nepoběží. Podle některých by to šlo, ale brutálně podtaktované. Taky bych mohl použít převodníky úrovní – třeba ty s TXS0108 zvládnou i požadované frekvence.</p>

<p>[sc:ebay item=“TXS0108 converter“] [sc:ebay item=“6809 Motorola“] [sc:ebay item=“HD63C09P Hitachi“]</p>

<p>Druhá varianta je použít <a href="http://retrocip.uelectronics.info/asm80-podpora-pro-65c816/">65C816</a> od WDC. Je to zajímavý hybrid mezi osmibitovým (6502) a šestnáctibitovým procesorem, ale hlavně funguje i na 3.3V (podle datasheetu by to na tomto napětí mohlo zvládnout frekvenci 14 MHz). Ergo bych ho jen tak připojil na FPGA, bez konvertorů, a celý počítač se mi tak smrskne na procesor, FPGA, statickou RAM. [sc:ebay item=“CPU 65C816″]</p>

<p>Třetí varianta je nacpat celé jádro procesoru do FPGA taky. V tom případě bych asi použil 6809 – pro 6309 jsem nenašel vhodné funkční jádro, bohužel.</p>

<p>Otázka je, jestli <strong>přidávat FLASH nebo ne</strong>. Na jednu stranu je to jeden čip navíc, který zabere nemálo pinů u FPGA, na druhou stranu je zase práce s tím jednodušší. Druhá možnost je použít sériovou paměť FLASH a pro boot použít malou, třeba 1kB rutinu, která bude klidně uložena v interní paměti FPGA, po nabootování se přepíše do RAM, odpojí ROM a zavede z té sériové FLASHky celý systém. Třetí možnost je využít to, že stejně bude SD karta, a bootovat z ní. To by ale pak bylo na místě řešit věci jako práce s filesystémem na SD kartě už v bootloaderu, a to se mi asi moc nechce. Pravděpodobně tedy půjdu cestou druhou. [sc:ebay item=“25Q64BVAIG 1pcs“]</p>

<p>Takže: procesor mám, paměť i základní logiku taky, co dál? Periferie jsou jasné čtyři: klávesnice, VGA, SD a sériový port. Co dál je potřeba? Uvidím, kolik mi zůstane místa ve FPGA, a podle toho bych doplnil třeba druhý sériový port (k němu připojit <a href="http://esp8266.cz">ESP8266</a>?) nebo SPI/I2C rozhraní, dostupné pro procesor jako periferie.</p>

<p>Zvuk? No, minimálně nějaký beeper se hodí. Dál bych ale asi zatím nešel, do budoucna můžu klidně zaintegrovat nějaký generátor hluku, buď jako samostatný čip (SAA1099, SN76489, SID, AY, …), nebo jako soft core do FPGA.</p>

<p>Displej chci jednoduchý grafický se základními barvami. Něco jako mělo Spectrum, trošku líp vyřešené atributy, ale zase nechci zaplácnout celý paměťový prostor (u 65816 by to asi nevadilo, ten dokáže adresovat až 16M) a ani rychlé by to moc nebylo. Nechci se zatím zabývat nějakým blitterem, akcelerátorem, hardwarovými sprity nebo něčím takovým.</p>

<p>Myš asi nebude hned nutná.</p>

<p>Zkrátka: představte si takové ZX Spectrum s procesorem 6809/65816, připojené k VGA a se SD místo diskety / kazety…</p>

<p>Zajímá mě, jak byste se vy rozhodovali v těch výše nastíněných otázkách…</p>
</article>

      
      <div class="blog-tags">
        <span>Tagy:</span>
        
        <a href="/tags#6309">6309</a>
        
        <a href="/tags#65C816">65C816</a>
        
        <a href="/tags#6809">6809</a>
        
        <a href="/tags#Spectrum">Spectrum</a>
        
        <a href="/tags#VGA">VGA</a>
        
      </div>
         <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Nov%C3%BD+star%C3%BD+po%C4%8D%C3%ADta%C4%8D&url=http%3A%2F%2Flocalhost%3A4000%2Fnovy-stary-pocitac%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fnovy-stary-pocitac%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnovy-stary-pocitac%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

</section>


 

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a
            class="page-link"
            href="/asm80-podpora-pro-65c816/"
            data-toggle="tooltip"
            data-placement="top"
            title="ASM80: podpora pro 65C816"
            >&larr; Předchozí</a
          >
        </li>
         
        <li class="page-item next">
          <a
            class="page-link"
            href="/krabicka-pro-calcuino/"
            data-toggle="tooltip"
            data-placement="top"
            title="Krabička pro Calcuino"
            >Následující &rarr;</a
          >
        </li>
        
      </ul>
      
  
  
  

  




    </div>
  </div>
</div>
 <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="mailto:retrocip@maly.cz" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.facebook.com/martin.maly" title="Facebook">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Facebook</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/maly" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/retrocip" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
      2020

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="http://localhost:4000/">Retročip.cz</a>
        </span>
      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>
 
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  








  </body>
</html>
