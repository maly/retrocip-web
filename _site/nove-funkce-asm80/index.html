<!DOCTYPE html>
<html lang="cs-CZ">
  <!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Nové funkce ASM80</title>

  

  <meta name="description" content="Zahálel jsem? Nezahálel! Dovolte mi představit pár nových funkcí v ASM80… V posledních dnech jsem přidal pár funkcí a opravil několik chyb. Pojďme si je představit. Pseudoinstrukce .error funguje tak, že zastaví překlad a vypíše chybu. Můžete ji použít v podmíněném bloku, nebo i jinak, je to na vás. Opravil...">

  

  

  <link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  <meta property="og:title" content="Nové funkce ASM80">
  <meta property="og:description" content="Zahálel jsem? Nezahálel! Dovolte mi představit pár nových funkcí v ASM80… V posledních dnech jsem přidal pár funkcí a opravil několik chyb. Pojďme si je představit. Pseudoinstrukce .error funguje tak, že zastaví překlad a vypíše chybu. Můžete ji použít v podmíněném bloku, nebo i jinak, je to na vás. Opravil...">

  
  <meta property="og:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="">
  <meta property="og:article:published_time" content="2013-12-13T13:36:41+01:00">
  <meta property="og:url" content="http://localhost:4000/nove-funkce-asm80/">
  <link rel="canonical" href="http://localhost:4000/nove-funkce-asm80/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@retrocip">
  <meta name="twitter:creator" content="@retrocip">

  <meta property="twitter:title" content="Nové funkce ASM80">
  <meta property="twitter:description" content="Zahálel jsem? Nezahálel! Dovolte mi představit pár nových funkcí v ASM80… V posledních dnech jsem přidal pár funkcí a opravil několik chyb. Pojďme si je představit. Pseudoinstrukce .error funguje tak, že zastaví překlad a vypíše chybu. Můžete ji použít v podmíněném bloku, nebo i jinak, je to na vás. Opravil...">

  
  <meta name="twitter:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  


  

  

</head>


  <body>
    
 <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="https://beautifuljekyll.com">Beautiful Jekyll</a>
                  <a class="dropdown-item" href="https://www.markdowntutorial.com/">Learn markdown</a>
            </div>
          </li>
        
          <li class="nav-item">
            <a class="nav-link" href="https://deanattali.com">Author's home</a>
          </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="http://localhost:4000/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/wp-content/uploads/sites/6/favicon/retrocip.png" />
        </a>
      </div>
    </div>
  

</nav>
 <!-- TODO this file has become a mess, refactor it -->
<!-- prettier-ignore -->

  



<header class="header-section ">
  
  <div class="intro-header no-img">
    <div class="container-md">
      <div class="row">
        <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
          <div class="post-heading">
            <h1>
              Nové funkce ASM80
            </h1>
             
            <span class="post-meta"
              >Vydáno 13. 12. 2013</span
            >
              
          </div>
        </div>
      </div>
    </div>
  </div>
</header>




<div
  class=" container-md "
>
  <div class="row">
    <div
      class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 "
    >
       

      <article role="main" class="blog-post"><p>Zahálel jsem? Nezahálel! Dovolte mi představit pár nových funkcí v ASM80…</p>

<!--more-->

<p>V posledních dnech jsem přidal pár funkcí a opravil několik chyb. Pojďme si je představit.</p>

<p>Pseudoinstrukce <strong>.error</strong> funguje tak, že zastaví překlad a vypíše chybu. Můžete ji použít v podmíněném bloku, nebo i jinak, je to na vás.</p>

<p>Opravil jsem chybu parsování argumentů, takže už funguje DB s řetězcem, ve kterém je středník.</p>

<p>V pravém sloupci je konverzní nástroj z binárních souborů na DB (což není databáze, ale instrukce DB). Fungování je prosté: Nastavte si v editoru kurzor do místa, kam chcete vložit binární data, a pak přetáhněte soubor z počítače do této oblasti.</p>

<p><a href="http://retrocip.uelectronics.info/wp-content/uploads/sites/6/2013/12/asm1.jpg"><img loading="lazy" class="aligncenter size-full wp-image-65" alt="asm1" src="http://retrocip.uelectronics.info/wp-content/uploads/sites/6/2013/12/asm1.jpg" width="218" height="86" /></a></p>

<p> </p>

<p>Soubor se převede na posloupnost DB a umístí do okna se zdrojovým kódem.</p>

<p>Přidal jsem pseudoinstrukci <strong>.engine</strong>. Touto direktivou řeknete IDE, pro jaký stroj je program určen (zatím jen „pmd“ nebo „pmi“). Projeví se to po stisku F10 (Emulace). Pokud není direktiva zadaná, spustí se jen emulátor procesoru. Pokud direktivu zadáte, spustí se emulátor konkrétního stroje s nahraným programem. Po návratu do IDE se opět otevře soubor se zdrojovým kódem.</p>

<p>Když už je řeč o debugování – změnil jsem debugger tak, že při jeho použití se v okně se zdrojovým kódem neobjevuje čistý zdroják, ale soubor LST. Tedy přesně to, co bylo přeloženo, s rozbalenými makry a includy.</p>

<p>Nad tlačítkem Compile je nově tlačítko Format code, které zformátuje váš zdroják (udělá jednotné odsazení, převede názvy instrukcí na velká písmena apod.)</p>

<p>Přibyl zatím neoficiální emulátor BOB-85.</p>

<p>Přidal jsem uživatelské účty. Je to zatím nenastylovaná verze a práce s tím je poněkud spartánská. Najdete je vlevo v záložce „Workspaces online“. V tomto okně se můžete přihlásit, nebo zaregistrovat („sign in“, ještě ten popis změním na nějaký jednoznačnější).</p>

<p>Jakmile se zaregistrujete a přihlásíte, máte možnost uložit celý svůj workspace, všechny soubory, s nimiž pracujete, na server pod svůj účet. Jsou privátní, nikdo k nim nemá přístup, jen vy. Použijte tlačítko „Save workspace as…“, tím zadáte i jméno, pod nímž má být daný workspace uložen. Je to taková obdoba „projektů“.</p>

<p>Ve chvíli, kdy máte uložené workspace, objeví se vám v téže záložce jejich seznam. Kliknutím přepnete na jiný (a předtím se aktuální uloží na server). Pokud chcete založit nový prázdný workspace, tak použijte „New workspace“. Aktuální se přitom uloží na server…</p>

<p>No a jako přihlášený uživatel můžete publikovat svůj zdroják jako knihovnu. Pokud třeba připravíte, řekněme, rutinu pro násobení dvou čísel, můžete ji nabídnout světu. Slouží k tomu tlačítko „Publish as library“ Vyberete jméno, přidáte stručný popis, podrobný popis a odešlete. Do popisu nezapomeňte napsat, jaké registry váš program využívá a co potřebuje pro svůj běh! Navíc nezapomínejte, že assembler nemá oddělené jmenné prostory ani moduly, takže pokud v knihovně pojmenujete nějaké návěští třeba „LOOP“, tak je velmi pravděpodobné, že se pomlátí s jiným návěštím LOOP, takže prosím v knihovnách jména návěští důkladně prefixujte, abyste předešli konfliktu jmen. (Zvážím, jak to do budoucna dělat automaticky.)</p>

<p>Takto publikovanou knihovnu mohou ostatní použít ve svých zdrojových kódech pomocí speciální syntaxe .include. Dejme tomu, že budete chtít použít hlavičkový soubor s odkazy na rutiny monitoru PMD-85 (nic jiného než spousta EQU definic), které jsem zveřejnil já (uživatel „adent“) pod názvem „pmd-monitor“. Použijete tedy toto:</p>

<p class="">
  <em>.include &lt;adent/pmd-monitor&gt;</em>
</p>

<p>Před lomítkem je jméno uživatele, za lomítkem název knihovny. Například takto:</p>

<pre>.INCLUDE &lt;adent/pmd-monitor&gt; 

          .ORG    1000H 
          .ENGINE pmd 

          CALL    PIIP 
          CALL    PIIP 
          CALL    PIIP 
          CALL    PIIP 
          RET     </pre>

<p>Vhodnou knihovnu si můžete najít vlevo, v záložce „Libraries“.</p>

<p>(Ještě jednou upozorňuju, že je tahle funkcionalita v plenkách a nemusí stoprocentně fungovat.)</p>

<p>—</p>

<p>Další chystané novinky: zveřejňování celých programů (ne jen knihoven) a jejich import do vlastních workspaces. No a určitě přibude i nějaký nový emulátor českého počítače. O tom, jaký to bude, <a href="http://twtpoll.com/l53s2lh6wprq1i8">můžete rozhodnout i vy</a>. Zatím to vypadá, že nejvíc fanoušků má IQ-151. <em>Pámbu s námi! 🙂</em></p>
</article>

      
      <div class="blog-tags">
        <span>Tagy:</span>
        
        <a href="/tags#ASM80">ASM80</a>
        
      </div>
         <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Nov%C3%A9+funkce+ASM80&url=http%3A%2F%2Flocalhost%3A4000%2Fnove-funkce-asm80%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fnove-funkce-asm80%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnove-funkce-asm80%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

</section>


 

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a
            class="page-link"
            href="/emulacni-naloz/"
            data-toggle="tooltip"
            data-placement="top"
            title="Emulační nálož"
            >&larr; Předchozí</a
          >
        </li>
         
        <li class="page-item next">
          <a
            class="page-link"
            href="/chcete-se-naucit-assembler/"
            data-toggle="tooltip"
            data-placement="top"
            title="Chcete se naučit assembler?"
            >Následující &rarr;</a
          >
        </li>
        
      </ul>
      
  
  
  

  




    </div>
  </div>
</div>
 <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="mailto:retrocip@maly.cz" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.facebook.com/martin.maly" title="Facebook">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Facebook</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/maly" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/retrocip" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
      2020

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="http://localhost:4000/">Retročip.cz</a>
        </span>
      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>
 
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  








  </body>
</html>
