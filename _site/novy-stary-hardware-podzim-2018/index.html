<!DOCTYPE html>
<html lang="cs-CZ">
  <!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Nový starý hardware, podzim 2018</title>

  

  <meta name="description" content="Práce na knize jde zdárně do finále, a já k tomu připravuju a testuju hardware. Po OMEN Alpha přišlo na řadu Bravo, Charlie i Kilo. A k tomu taky nějaké ty periferie… První verze Brava měla EEPROM 32 kB a sériový port. Konečně dorazila nová verze, Issue 3, kterou jsem rozšířil o...">

  

  

  <link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  <meta property="og:title" content="Nový starý hardware, podzim 2018">
  <meta property="og:description" content="Práce na knize jde zdárně do finále, a já k tomu připravuju a testuju hardware. Po OMEN Alpha přišlo na řadu Bravo, Charlie i Kilo. A k tomu taky nějaké ty periferie… První verze Brava měla EEPROM 32 kB a sériový port. Konečně dorazila nová verze, Issue 3, kterou jsem rozšířil o...">

  
  <meta property="og:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="">
  <meta property="og:article:published_time" content="2018-10-28T11:16:54+01:00">
  <meta property="og:url" content="http://localhost:4000/novy-stary-hardware-podzim-2018/">
  <link rel="canonical" href="http://localhost:4000/novy-stary-hardware-podzim-2018/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@retrocip">
  <meta name="twitter:creator" content="@retrocip">

  <meta property="twitter:title" content="Nový starý hardware, podzim 2018">
  <meta property="twitter:description" content="Práce na knize jde zdárně do finále, a já k tomu připravuju a testuju hardware. Po OMEN Alpha přišlo na řadu Bravo, Charlie i Kilo. A k tomu taky nějaké ty periferie… První verze Brava měla EEPROM 32 kB a sériový port. Konečně dorazila nová verze, Issue 3, kterou jsem rozšířil o...">

  
  <meta name="twitter:image" content="http://localhost:4000/wp-content/uploads/sites/6/favicon/retrocip.png">
  

  


  

  

</head>


  <body>
    
 <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="https://beautifuljekyll.com">Beautiful Jekyll</a>
                  <a class="dropdown-item" href="https://www.markdowntutorial.com/">Learn markdown</a>
            </div>
          </li>
        
          <li class="nav-item">
            <a class="nav-link" href="https://deanattali.com">Author's home</a>
          </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="http://localhost:4000/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/wp-content/uploads/sites/6/favicon/retrocip.png" />
        </a>
      </div>
    </div>
  

</nav>
 <!-- TODO this file has become a mess, refactor it -->
<!-- prettier-ignore -->

  



<header class="header-section ">
  
  <div class="intro-header no-img">
    <div class="container-md">
      <div class="row">
        <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
          <div class="post-heading">
            <h1>
              Nový starý hardware, podzim 2018
            </h1>
             
            <span class="post-meta"
              >Vydáno 28. 10. 2018</span
            >
              
          </div>
        </div>
      </div>
    </div>
  </div>
</header>




<div
  class=" container-md "
>
  <div class="row">
    <div
      class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 "
    >
       

      <article role="main" class="blog-post"><p>Práce na knize jde zdárně do finále, a já k tomu připravuju a testuju hardware. Po <a href="https://retrocip.cz/tag/omen-alpha/">OMEN Alpha</a> přišlo na řadu Bravo, Charlie i Kilo. A k tomu taky nějaké ty periferie…</p>

<!--more-->

<p>První verze Brava měla EEPROM 32 kB a sériový port. Konečně dorazila nová verze, Issue 3, kterou jsem rozšířil o obvod VIA 6522. VIA obsahuje dva osmibitové paralelní porty, dva časovače a posuvný registr pro sériové rozhraní. Jenže Issue 3 nepremával. Vypadlo mi propojení „země na zem“ a v tom blbém Eaglu jsem to přehlédnul jak šíré lány.</p>

<p>Když jsem napravil propojení, zjistil jsem, že nepracuje. Nekmitá. Sakra. Zapojení, co doporučovali po internetech, se u čtyřmegového 65C02P4 ukázalo nefunkčním. Musel jsem přidat jeden kondenzátor a rezistor 180k, a najednou to kmitá a šlape na první dobrou. Posuďte sami:</p>

<p>Opravil jsem chyby, vynechal výběr banky  (Issue 3 a 4 už používají menší EEPROM 28C64) a zadal jsem výrobu desek pro novou verzi. Ale přemýšlím, že bych zájemcům nechal i verzi 3, s nějakou slevou za to, že si zapájí drátek a dvě součástky… Škoda to vyhodit, ne?</p>

<div id="gallery-18" class="gallery galleryid-1092 gallery-columns-3 gallery-size-thumbnail gallery1">
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103913-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1097'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103913-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104048-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1105'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104048-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103935-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1096'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103935-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <br style="clear: both" />
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104029-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1093'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104029-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104015-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1094'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104015-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104004-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1095'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_104004-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <br style="clear: both" />
</div>

<p><strong>OMEN Kilo</strong> je takový chudák otloukánek. Moc jsem se na něj těšil, plošný spoj funguje na první dobrou, ale jinak to byl Problém Sám. Nejprve vadné procesory 63B09P. Nekmitaly, nehrály, mrtvé. Tak jsem koupil 63C09P, ty už fungují. A taky pár 6809, co taky fungují.</p>

<p>Jenže jsem musel vyměnit krystal, protože ten, co jsem tam dal, byl co? Správně, mrtvý!</p>

<p>Pak nefungoval obvod ACIA 6850. Čert aby to spral.</p>

<p>A když už to všechno mělo fungovat, tak se ukázalo, že ty přepínače, co jsem tam jako frajer dal místo pinů a switchů, mají nějaký divný zkrat, takže v jedné pozici povolovaly zápis do EEPROM (a ta se vesele přepisovala), v druhé blokovaly zpápis do RAM. Domluvil jsem jim kombinačkama a v příští verzi už nebudou!</p>

<p>A pak už to všechno fungovalo. Dokonce jsem si napsal jednoduchý monitor…</p>

<blockquote>
  <p><em>Vlastně jediné, co mi teď chybí, je monitor pro Bravo. Používám c’mon, ale moc nadšený z něj nejsem. Nechcete někdo napsat lepší? Nehlásí se támhle pan Šlajs? 🙂</em></p>
</blockquote>

<p>Ale jinak mám Kilo moc rád a do budoucna se stane základem většího systému.</p>

<p>Pokud vám vrtá hlavou, k čemu že tam mám ten systémový konektor, tak vězte, že k připojování dalších periferií. Zatím jsou připravené následující kousky:</p>

<ul>
  <li>Porty (s ATMegou)</li>
  <li>OMEN PIA s obvodem 6821 (jako výše zmíněná VIA, ale bez posuvného registru)</li>
  <li>OMEN CF IDE pro připojení Compact Flash karty</li>
  <li>OMEN Terminal s 20 tlačítky a sedmisegmentovým displejem (ale připojuje se na paralelní porty)</li>
</ul>

<div id="gallery-19" class="gallery galleryid-1092 gallery-columns-3 gallery-size-thumbnail gallery1">
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103813-1280-1.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1107'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103813-1280-1-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103724-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1102'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103724-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103731-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1101'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103731-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <br style="clear: both" />
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103835-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1099'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103835-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103843-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1098'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103843-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103653-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1104'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103653-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <br style="clear: both" />
  
  <dl class="gallery-item">
    <dt class="gallery-icon">
      <a href="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103705-1280.jpg" title="" class="highslide" onclick="return hs.expand(this,{captionId:'caption1103'})"><img src="http://retrocip.cz/wp-content/uploads/sites/6/2018/10/20181028_103705-1280-150x150.jpg" width="150" height="150" alt="" /></a>
    </dt>
  </dl>
  
  <br style="clear: both" />
</div>

<p>Ještě mám v plánu přidat zvukové rozhraní, jednodušší mono se SN76489 a sofistikovanější se SAA1099, ale možná si to ještě rozmyslím a sáhnu rovnou po OPL. No a pak věc, co mi teď asi chybí nejvíc, a to jsou microdrive…</p>

<p>Cože?</p>

<p>Ne, dělám si legraci. Microdrive nechci, ale mám tu spoustu SPI FLASH pamětí a ty by se hodily jako hezké médium pro ukládání software. Musím to ještě nějak vymyslet. Nechce se mi dělat interface s vlastním procesorem, tak to možná nechám jen na paralelním portu…</p>

<p>No a poslední úprava, co jsem dělal, je úprava monitoru MON85 pro OMEN Alpha. Ukázalo se totiž, že ACIA má takovou zajímavou vlastnost, a to tu, že příznak „jsou připravena načtená data“ se vynuluje i při zápisu. Takže během posílání dat, třeba u funkcí D a M, kdy monitor chrlí data a zastaví ho až mezera nebo Esc, nemá moc šanci tu mezeru nebo ESC chytit, protože tím, jak data posílá, zároveň zahazuje přijatá. Dodělal jsem hotfix, ale není to úplně to ono.</p>
</article>

      
      <div class="blog-tags">
        <span>Tagy:</span>
        
        <a href="/tags#6502">6502</a>
        
        <a href="/tags#6809">6809</a>
        
        <a href="/tags#8085">8085</a>
        
        <a href="/tags#OMEN">OMEN</a>
        
        <a href="/tags#OMEN Alpha">OMEN Alpha</a>
        
        <a href="/tags#OMEN Bravo">OMEN Bravo</a>
        
        <a href="/tags#OMEN Kilo">OMEN Kilo</a>
        
      </div>
         <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Nov%C3%BD+star%C3%BD+hardware%2C+podzim+2018&url=http%3A%2F%2Flocalhost%3A4000%2Fnovy-stary-hardware-podzim-2018%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fnovy-stary-hardware-podzim-2018%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnovy-stary-hardware-podzim-2018%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

</section>


 

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a
            class="page-link"
            href="/omen-zdarne-pokracuje/"
            data-toggle="tooltip"
            data-placement="top"
            title="OMEN zdárně pokračuje"
            >&larr; Předchozí</a
          >
        </li>
         
        <li class="page-item next">
          <a
            class="page-link"
            href="/jste-unaveni-z-gigahertzu-a-terabytu/"
            data-toggle="tooltip"
            data-placement="top"
            title="Jste unaveni z gigahertzů a terabytů?"
            >Následující &rarr;</a
          >
        </li>
        
      </ul>
      
  
  
  

  




    </div>
  </div>
</div>
 <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="mailto:retrocip@maly.cz" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://www.facebook.com/martin.maly" title="Facebook">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Facebook</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/maly" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/retrocip" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
      2020

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="http://localhost:4000/">Retročip.cz</a>
        </span>
      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>
 
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  








  </body>
</html>
